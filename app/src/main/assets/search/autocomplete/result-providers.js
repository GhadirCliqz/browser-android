System.register("autocomplete/result-providers", ["core/cliqz", "autocomplete/result", "autocomplete/calculator", "core/search-engines"], function (_export) {
  /*
   * This module handles the search engines present in the browser
   * and provides a series of custom results
   *
   */

  // INIT_KEY ('newProvidersAdded') was used only as a boolean but now we have multiple states
  // state 1 -> Google images & Google maps
  // state 2 -> YouTube engine is added
  // state 3 -> Aliases (shortcuts) are updated:
  //  - to first 2 letters for default engines
  //  - to key property for NonDefaultProviders
  // state 4 -> Ecosia engine is added

  "use strict";

  var utils, Result, CliqzCalculator, setSearchEngine, INIT_KEY, LOG_KEY, KEY, CUSTOM, ENGINE_CODES, CliqzResultProviders, NonDefaultProviders;
  return {
    setters: [function (_coreCliqz) {
      utils = _coreCliqz.utils;
    }, function (_autocompleteResult) {
      Result = _autocompleteResult["default"];
    }, function (_autocompleteCalculator) {
      CliqzCalculator = _autocompleteCalculator["default"];
    }, function (_coreSearchEngines) {
      setSearchEngine = _coreSearchEngines.setSearchEngine;
    }],
    execute: function () {
      INIT_KEY = 'newProvidersAdded';
      LOG_KEY = 'NonDefaultProviders.jsm';
      KEY = '#';
      CUSTOM = {
        '#fee': {
          url: 'https://cliqz.com/support/'
        },
        '#team': {
          url: 'https://cliqz.com/team/'
        },
        '#cliqz': {
          url: 'https://cliqz.com/'
        },
        '#join': {
          url: 'https://cliqz.com/jobs/'
        }
      };
      ENGINE_CODES = ['google images', 'google maps', 'google', 'yahoo', 'bing', 'wikipedia', 'amazon', 'ebay', 'leo', 'youtube', 'ecosia'];

      // REFS:
      // http://stenevang.wordpress.com/2013/02/22/google-search-url-request-parameters/
      // https://developers.google.com/custom-search/docs/xml_results#hlsp

      CliqzResultProviders = {
        init: function init() {
          utils.log('CliqzResultProviders initialized', LOG_KEY);
          CliqzResultProviders.manageProviders();
        },
        manageProviders: function manageProviders() {

          var newProviderAdded = CliqzResultProviders.addCustomProviders();

          if (newProviderAdded) {
            CliqzResultProviders.updateEngineAliases();
          }
        },
        addCustomProviders: function addCustomProviders() {
          var providersAddedState,
              maxState = -1,
              newProviderIsAdded = false;

          if (typeof utils.getPref(INIT_KEY) === "boolean") {
            providersAddedState = 1;
          } else {
            providersAddedState = utils.getPref(INIT_KEY, 0);
          }

          NonDefaultProviders.forEach(function (extern) {
            utils.log("NonDefaultProviders");
            try {
              utils.log('Analysing ' + extern.name, LOG_KEY);
              if (!utils.getEngineByName(extern.name)) {
                if (providersAddedState < extern.state) {
                  maxState = extern.state > maxState ? extern.state : maxState;
                  utils.log('Added ' + extern.name, LOG_KEY);
                  utils.addEngineWithDetails(extern);
                }
              }
            } catch (e) {
              utils.log(e, 'err' + LOG_KEY);
            }
          });

          if (maxState > 0) {
            utils.setPref(INIT_KEY, maxState);
            newProviderIsAdded = true;
          }

          return newProviderIsAdded;
        },
        updateEngineAliases: function updateEngineAliases() {
          CliqzResultProviders.getSearchEngines().forEach(function (engine) {
            var alias = engine.alias;
            if (!alias) {
              alias = CliqzResultProviders.createShortcut(engine.name);
            }
            if (engine.prefix && engine.name === alias) {
              alias = engine.prefix;
            }
            CliqzResultProviders.updateAlias(engine.name, alias);
          });
        },
        updateAlias: function updateAlias(name, newAlias) {
          utils.updateAlias(name, newAlias);
          utils.log("Alias of engine  " + name + " was updated to " + newAlias, LOG_KEY);
        },
        getCustomResults: function getCustomResults(q) {
          var results = null;
          var customQuery = CliqzResultProviders.customizeQuery(q);

          if (customQuery) {
            results = [Result.generic(Result.CLIQZC + ' sources-' + customQuery.code, customQuery.queryURI, null, null, null, null, {
              q: customQuery.updatedQ,
              engine: customQuery.engineName
            })];
            q = customQuery.updatedQ;
          } else if (CliqzCalculator.isCalculatorSearch(q)) {
            var calcRes = CliqzCalculator.calculate(q);
            if (calcRes != null) {
              results = [calcRes];
            }
          }
          return [q, results];
        },
        getEngineCode: function getEngineCode(engineName) {
          for (var c in ENGINE_CODES) {
            if (engineName.toLowerCase().indexOf(ENGINE_CODES[c]) != -1) {
              return +c + 1;
            }
          }
          // unknown engine
          return 0;
        },
        setCurrentSearchEngine: function setCurrentSearchEngine(engine) {
          var searchEngine = CliqzResultProviders.getEngineByName(engine);
          setSearchEngine(searchEngine);
        },
        // called for each query
        customizeQuery: function customizeQuery(q) {
          if (CUSTOM[q.trim()] && CUSTOM[q.trim()].url) {
            return {
              updatedQ: q,
              engineName: 'CLIQZ',
              queryURI: CUSTOM[q.trim()].url,
              code: '#'
            };
          }
          //a prefix has min 3 chars
          if (q.length < 4) return false;

          var components = q.split(' ');

          if (components.length < 2) return false;

          var start = components[0],
              end = components[components.length - 1],
              engineName,
              uq;

          if (CliqzResultProviders.getEngineByAlias(start)) {
            engineName = CliqzResultProviders.getEngineByAlias(start).name;
            uq = q.substring(start.length + 1);
          } else if (CliqzResultProviders.getEngineByAlias(end)) {
            engineName = CliqzResultProviders.getEngineByAlias(end).name;
            uq = q.substring(0, q.length - end.length - 1);
          }

          if (engineName) {
            return {
              updatedQ: uq,
              engineName: engineName,
              queryURI: CliqzResultProviders.getSubmissionByEngineName(engineName, uq),
              code: CliqzResultProviders.getEngineCode(engineName)
            };
          } else {
            return null;
          }
        },
        getEngineByName: function getEngineByName(engine) {
          return utils.getEngineByName(engine);
        },
        getEngineByAlias: function getEngineByAlias(alias) {
          return utils.getEngineByAlias(alias);
        },
        getSubmissionByEngineName: function getSubmissionByEngineName(name, query) {
          var engine = CliqzResultProviders.getSearchEngines().find(function (engine) {
            return engine.name === name;
          });
          if (engine) {
            return engine.getSubmissionForQuery(query);
          }
        },
        // called once at visual hashtag creation
        // TODO: use the updated shortcuts from about:preferences#search
        getShortcut: function getShortcut(name) {
          for (var i = 0; i < NonDefaultProviders.length; i++) if (NonDefaultProviders[i].name === name) return NonDefaultProviders[i].key;

          return CliqzResultProviders.createShortcut(name);
        },
        // create a unique shortcut -> first 2 lowercased letters
        createShortcut: function createShortcut(name) {
          return KEY + name.substring(0, 2).toLowerCase();
        },
        getSearchEngines: function getSearchEngines() {
          return utils.getSearchEngines().map(function (e) {
            e.prefix = CliqzResultProviders.getShortcut(e.name);
            e.code = CliqzResultProviders.getEngineCode(e.name);

            return e;
          });
        }
      };

      // TODO: create language/location aware customization
      NonDefaultProviders = [{
        key: "#gi",
        url: "https://www.google.de/search?tbm=isch&q={searchTerms}&hl=de",
        name: "Google Images",
        iconURL: "data:image/gif;base64,R0lGODlhEgANAOMKAAAAABUVFRoaGisrKzk5OUxMTGRkZLS0tM/Pz9/f3////////////////////////yH5BAEKAA8ALAAAAAASAA0AAART8Ml5Arg3nMkluQIhXMRUYNiwSceAnYAwAkOCGISBJC4mSKMDwpJBHFC/h+xhQAEMSuSo9EFRnSCmEzrDComAgBGbsuF0PHJq9WipnYJB9/UmFyIAOw==",
        method: 'GET',
        state: 1
      }, {
        key: "#gm",
        url: "https://maps.google.de/maps?q={searchTerms}",
        name: "Google Maps",
        iconURL: "data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEACABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAABILAAASCwAAAAEAAAABAAA+VeMAZMbFAH7k/wBGy/4A/8hpAITk/wAsPNkAE8P8AFXc/wBF2f8A/8BRAP+5OwAh0v8Aqev/AExm6QA21v8A/cpwAAXJ/wAa0f8A/8dmAP/GYgCa6f8A/8NZAFzd/wCT5/8A/8VeAP++SgAq1P8ABc3/ADRI3gADy/8AKc7+AFRx7gCktfgA/sBPAP/CVgBx4f8ALdP/AAHM/wBAWeUA/7tBADpP4QCJ5f8APtj/ACg31gCi6v8A/71GAL/v/wBFydoAJTjUAB5s3wC8y6AANsD9ACvG/gBNauwAnbWRAKPJ9QCmvpQALdT/ABojzgBRZOAAue7/ACBJ1wAyRdwAFsX0AD2y8QAXz/8AEhnKAJXo/wBoheEA18B3AJ3JqQAKx/4AIS3SAN/OjgAJyP4A+MFfAPf4/gD4wWAAXnzxABWn7gAdvv0Aat//ACY01QA3St4ADcr2AGrI+gA5xuoAPMv0ADrM/gAny/UAM9D+ADHV/wBWgu4AS9r/AI+n7gClrvAAjsetAEnW/gA0xNwAOdf/ACfT/wCO5v8AJ1LXAJ+m7QBed+4AR2LpABjP/wANyPoAcbT0AAzO/wALN80AW27nAEvG0QAV0P8A4r9xADjS/gA0XNsAPdf/AC4/2gCe6f8ARV/oAP+4NgB1wbYAQNH+ANLz/wAAzP8A////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf2J0Hx9YMxAQBBMZFgoifxIlaxERMAQTFBkjChooCwt4DSRlJkcQe3tGGRYKGih6JAUYfRcBSh4RQDlOFiIuCxIrGw99ZGNVHhFIexkjGigbXg8MBSpvHH4eEQEUFgouKxcJXAI4Q2wcfh5hExkKGghSCAkqXztQbiYmcXNMNzckAiQXRDxJMmUSckJaVzU0ZhgqAm13LDFBDzobJVtZAxgVKlYnHXcsPgccfh5LB1ENDRVdJykdd1NFfX19fX19Lz0tIGonKT8GZ3YPfHx8A38vLU82eQBUd3V8fHx8fH9/f38hIA4nKVRof39/f39/f39/TSFpDnBgf39/f39/f4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAQAA4D8AAOB/AAA=",
        method: 'GET',
        state: 1
      }, {
        key: "#yt",
        url: "https://www.youtube.de/results?search_query={searchTerms}",
        name: "YouTube",
        iconURL: 'data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgNkQkIDZGiCA2RzAgNkcwIDZH/CA2R/wgNkf8IDZH/CA2R/wgNkf8IDZH/CA2R2AgNkcwIDZHMCA2RhAgNkQYIDpWHCA6V/wgOlf8IDpX/CA6V/wgOlf8IDpX/CA6V/wgOlf8IDpX/CA6V/wgOlf8IDpX/CA6V/wgOlf8IDpWHCQ6ZzAkOmf8JDpn/CQ6Z/wkOmf8JDpb/BQhc/wgMgf8JDpn/CQ6Z/wkOmf8JDpn/CQ6Z/wkOmf8JDpn/CQ6ZzAkOnuoJDp7/CQ6e/wkOnv8JDp7/Exed/8jIy/9RU4j/Bwp0/wkOm/8JDp7/CQ6e/wkOnv8JDp7/CQ6e/wkOnuoJD6T8CQ+k/wkPpP8JD6T/CQ+k/xUbo//V1dX/1dXV/4yNrP8QFG//CA6Y/wkPpP8JD6T/CQ+k/wkPpP8JD6T8CQ+q/wkPqv8JD6r/CQ+q/wkPqv8WG6n/3d3d/93d3f/d3d3/v7/M/y0wjv8JD6r/CQ+q/wkPqv8JD6r/CQ+q/woQr/8KEK//ChCv/woQr/8KEK//Fx2v/+fn5//n5+f/5+fn/+jo6P+YmtP/ChCv/woQr/8KEK//ChCv/woQr/8KELX8ChC1/woQtf8KELX/ChC1/xgdtf/x8fH/8fHx//Ly8v+bndv/Ehi3/woQtf8KELX/ChC1/woQtf8KELX8ChG76goRu/8KEbv/ChG7/woRu/8YH77/+fn5/+/v9/9fY9H/ChG7/woRu/8KEbv/ChG7/woRu/8KEbv/ChG76goRwMwKEcD/ChHA/woRwP8KEcD/EBfB/6Ol5/8tM8n/ChHA/woRwP8KEcD/ChHA/woRwP8KEcD/ChHA/woRwMwLEcSHCxHE/wsRxP8LEcT/CxHE/wsRxP8LEcT/CxHE/wsRxP8LEcT/CxHE/wsRxP8LEcT/CxHE/wsRxP8LEcSHCxLICQsSyKULEsjMCxLI+QsSyP8LEsj/CxLI/wsSyP8LEsj/CxLI/wsSyP8LEsj/CxLI0gsSyMwLEsiiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAD//wAA//8AAA==',
        method: 'GET',
        state: 2
      }, {
        key: "#ec",
        url: "https://www.ecosia.org/search?q={searchTerms}&ref=cliqz",
        name: "Ecosia",
        iconURL: 'data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAACMuAAAjLgAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8qzQBuaw3UrmsN6u5rDfruaw37bmsN+25rDfSuaw3fLmsNyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC2rTokrLFGurqsNv+5rDf/uaw3/7msN/+5rDf/uaw3/7urNP/AqS7suqw2aAAAAAAAAAAAAAAAAAAAAAC/qjApkbpn4mvJlf/EqCr/uaw3/7msN/+5rDf/uaw3/7urNP+rsUj/ib5x/7qsNv+9qzKBAAAAAAAAAAC5rDcLwKkvzom9cf813Nb/lrlh/8KoLP+5rDf/uaw3/7msN//BqS3/eMSF/yXj6v+BwHv/lbli/7atO1IAAAAAuaw3bsCqL/+Rumb/K+Di/z3ZzP+dtln/vqox/7msN/+5rDf/waku/23Ikv8s4OH/ONvS/5m4Xv+7qzXZuaw3CbmsN9DBqS7/hL93/zDe3f8v393/RdbD/7OuPv+7qzX/uqw2/8WoKf99wn//Lt/e/y/e3f99wn//v6ow/7msN0+7qzT7s64+/0bWwf8y3tn/L97d/03TuP+usET/vKoz/7isOP+vr0P/XM6n/zDe3P813Nb/L97d/5O6Zf/EpymOu6s0/7OuPv8+2cv/J+Hn/1HStP+0rjz/vasy/76qMP9zxYr/NtzV/zTd1/823NX/NtzV/zLd2f9I1b//mbheqsGpLf+gtVX/bseR/3fEhv+wr0L/vaoy/7msN/+/qjD/Wc+q/yvg4/813Nb/Md7b/zfc1P833NT/Mt7a/zbc1aqHvnT6bMiT/522WP+wr0L/vqox/7msN/+5rDf/vaoy/6C1VP8/2cr/N9zT/2vJlf9hzKD/NtzU/zbc1f813NaONdzWz3HGjv9ky53/prNN/8SoKv+8qzT/uaw3/7msOP/EqCr/ecOE/0HYx/9V0K//N9vT/zXc1v823NX/NtzVTjXc120w3tz/Lt/e/0zUu/+Fv3X/rrBF/7msN/+7qzX/vaoy/6qxSf9G1sH/L9/d/zPd2P8x3tv/L9/e2C/f3Qk23NUKNtzVzDbc1v823NX/OdvQ/0nVvv+xr0H/ta07/7+qL/+7qzT/r69D/2LMoP823NX/VNGx/2TLnVEAAAAAAAAAADbc1Sc03dfgQNnJ/2bKm/862tD/pLRP/1vOqf9S0rP/ib1x/8CpL/+4rDj/qLJM/7qsNn4AAAAAAAAAAAAAAAAAAAAAM93YI0vUvLtux5H/VdGw/3DHj/9Zz6r/Xc2m/3rDgv+5rDf/u6s1672rM2gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyaYjUburNaytsUbZuK056cGpLuS/qjDGuaw3gLmsNx4AAAAAAAAAAAAAAAAAAAAA+D8AAOAPAADAAwAAgAMAAIABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAACAAQAAgAMAAMAHAADgDwAA+B8AAA==',
        method: 'GET',
        state: 4
      }];

      _export("default", CliqzResultProviders);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dG9jb21wbGV0ZS9yZXN1bHQtcHJvdmlkZXJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O3VEQW1CSSxRQUFRLEVBQ1AsT0FBTyxFQUNQLEdBQUcsRUFDSCxNQUFNLEVBY04sWUFBWSxFQW1CYixvQkFBb0IsRUFpTHBCLG1CQUFtQjs7O3lCQWxPZCxLQUFLOzs7Ozs7MkNBR0wsZUFBZTs7O0FBVXBCLGNBQVEsR0FBRyxtQkFBbUI7QUFDN0IsYUFBTyxHQUFHLHlCQUF5QjtBQUNuQyxTQUFHLEdBQUUsR0FBRztBQUNSLFlBQU0sR0FBRztBQUNSLGNBQU0sRUFBRTtBQUNOLGFBQUcsRUFBRSw0QkFBNEI7U0FDbEM7QUFDRCxlQUFPLEVBQUU7QUFDUCxhQUFHLEVBQUUseUJBQXlCO1NBQy9CO0FBQ0QsZ0JBQVEsRUFBRTtBQUNSLGFBQUcsRUFBRSxvQkFBb0I7U0FDMUI7QUFDRCxlQUFPLEVBQUU7QUFDUCxhQUFHLEVBQUUseUJBQXlCO1NBQy9CO09BQ0Q7QUFDRCxrQkFBWSxHQUFHLENBQ2QsZUFBZSxFQUNmLGFBQWEsRUFDYixRQUFRLEVBQ1IsT0FBTyxFQUNQLE1BQU0sRUFDTixXQUFXLEVBQ1gsUUFBUSxFQUNSLE1BQU0sRUFDTixLQUFLLEVBQ0wsU0FBUyxFQUNULFFBQVEsQ0FDVDs7Ozs7O0FBT0QsMEJBQW9CLEdBQUc7QUFDekIsWUFBSSxFQUFFLGdCQUFZO0FBQ2hCLGVBQUssQ0FBQyxHQUFHLENBQUMsa0NBQWtDLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDdkQsOEJBQW9CLENBQUMsZUFBZSxFQUFFLENBQUM7U0FDeEM7QUFDRCx1QkFBZSxFQUFFLDJCQUFXOztBQUUxQixjQUFJLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDLGtCQUFrQixFQUFFLENBQUM7O0FBRWpFLGNBQUcsZ0JBQWdCLEVBQUU7QUFDbkIsZ0NBQW9CLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztXQUM1QztTQUNGO0FBQ0QsMEJBQWtCLEVBQUUs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QUksRUFBRSxRQUFRO0FBQ2QsZUFBTyxFQUFFLDJoREFBMmhEO0FBQ3BpRCxjQUFNLEVBQUUsS0FBSztBQUNiLGFBQUssRUFBRSxDQUFDO09BQ1QsQ0FDRjs7eUJBRWMsb0JBQW9CIiwiZmlsZSI6ImF1dG9jb21wbGV0ZS9yZXN1bHQtcHJvdmlkZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFRoaXMgbW9kdWxlIGhhbmRsZXMgdGhlIHNlYXJjaCBlbmdpbmVzIHByZXNlbnQgaW4gdGhlIGJyb3dzZXJcbiAqIGFuZCBwcm92aWRlcyBhIHNlcmllcyBvZiBjdXN0b20gcmVzdWx0c1xuICpcbiAqL1xuXG5pbXBvcnQgeyB1dGlscyB9IGZyb20gXCJjb3JlL2NsaXF6XCI7XG5pbXBvcnQgUmVzdWx0IGZyb20gXCJhdXRvY29tcGxldGUvcmVzdWx0XCI7XG5pbXBvcnQgQ2xpcXpDYWxjdWxhdG9yIGZyb20gXCJhdXRvY29tcGxldGUvY2FsY3VsYXRvclwiO1xuaW1wb3J0IHsgc2V0U2VhcmNoRW5naW5lIH0gZnJvbSBcImNvcmUvc2VhcmNoLWVuZ2luZXNcIjtcblxuLy8gSU5JVF9LRVkgKCduZXdQcm92aWRlcnNBZGRlZCcpIHdhcyB1c2VkIG9ubHkgYXMgYSBib29sZWFuIGJ1dCBub3cgd2UgaGF2ZSBtdWx0aXBsZSBzdGF0ZXNcbi8vIHN0YXRlIDEgLT4gR29vZ2xlIGltYWdlcyAmIEdvb2dsZSBtYXBzXG4vLyBzdGF0ZSAyIC0+IFlvdVR1YmUgZW5naW5lIGlzIGFkZGVkXG4vLyBzdGF0ZSAzIC0+IEFsaWFzZXMgKHNob3J0Y3V0cykgYXJlIHVwZGF0ZWQ6XG4vLyAgLSB0byBmaXJzdCAyIGxldHRlcnMgZm9yIGRlZmF1bHQgZW5naW5lc1xuLy8gIC0gdG8ga2V5IHByb3BlcnR5IGZvciBOb25EZWZhdWx0UHJvdmlkZXJzXG4vLyBzdGF0ZSA0IC0+IEVjb3NpYSBlbmdpbmUgaXMgYWRkZWRcblxudmFyIElOSVRfS0VZID0gJ25ld1Byb3ZpZGVyc0FkZGVkJyxcbiAgICAgTE9HX0tFWSA9ICdOb25EZWZhdWx0UHJvdmlkZXJzLmpzbScsXG4gICAgIEtFWSA9JyMnLFxuICAgICBDVVNUT00gPSB7XG4gICAgICAnI2ZlZSc6IHtcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9jbGlxei5jb20vc3VwcG9ydC8nXG4gICAgICB9LFxuICAgICAgJyN0ZWFtJzoge1xuICAgICAgICB1cmw6ICdodHRwczovL2NsaXF6LmNvbS90ZWFtLydcbiAgICAgIH0sXG4gICAgICAnI2NsaXF6Jzoge1xuICAgICAgICB1cmw6ICdodHRwczovL2NsaXF6LmNvbS8nXG4gICAgICB9LFxuICAgICAgJyNqb2luJzoge1xuICAgICAgICB1cmw6ICdodHRwczovL2NsaXF6LmNvbS9qb2JzLydcbiAgICAgIH1cbiAgICAgfSxcbiAgICAgRU5HSU5FX0NPREVTID0gW1xuICAgICAgJ2dvb2dsZSBpbWFnZXMnLFxuICAgICAgJ2dvb2dsZSBtYXBzJyxcbiAgICAgICdnb29nbGUnLFxuICAgICAgJ3lhaG9vJyxcbiAgICAgICdiaW5nJyxcbiAgICAgICd3aWtpcGVkaWEnLFxuICAgICAgJ2FtYXpvbicsXG4gICAgICAnZWJheScsXG4gICAgICAnbGVvJyxcbiAgICAgICd5b3V0dWJlJyxcbiAgICAgICdlY29zaWEnXG4gICAgXTtcblxuLy8gUkVGUzpcbi8vIGh0dHA6Ly9zdGVuZXZhbmcud29yZHByZXNzLmNvbS8yMDEzLzAyLzIyL2dvb2dsZS1zZWFyY2gtdXJsLXJlcXVlc3QtcGFyYW1ldGVycy9cbi8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2N1c3RvbS1zZWFyY2gvZG9jcy94bWxfcmVzdWx0cyNobHNwXG5cblxudmFyIENsaXF6UmVzdWx0UHJvdmlkZXJzID0ge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdXRpbHMubG9nKCdDbGlxelJlc3VsdFByb3ZpZGVycyBpbml0aWFsaXplZCcsIExPR19LRVkpO1xuICAgIENsaXF6UmVzdWx0UHJvdmlkZXJzLm1hbmFnZVByb3ZpZGVycygpO1xuICB9LFxuICBtYW5hZ2VQcm92aWRlcnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIG5ld1Byb3ZpZGVyQWRkZWQgPSBDbGlxelJlc3VsdFByb3ZpZGVycy5hZGRDdXN0b21Qcm92aWRlcnMoKTtcblxuICAgIGlmKG5ld1Byb3ZpZGVyQWRkZWQpIHtcbiAgICAgIENsaXF6UmVzdWx0UHJvdmlkZXJzLnVwZGF0ZUVuZ2luZUFsaWFzZXMoKTtcbiAgICB9XG4gIH0sXG4gIGFkZEN1c3RvbVByb3ZpZGVyczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByb3ZpZGVyc0FkZGVkU3RhdGUsXG4gICAgICAgIG1heFN0YXRlID0gLTEsXG4gICAgICAgIG5ld1Byb3ZpZGVySXNBZGRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiB1dGlscy5nZXRQcmVmKElOSVRfS0VZKSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHByb3ZpZGVyc0FkZGVkU3RhdGUgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm92aWRlcnNBZGRlZFN0YXRlID0gdXRpbHMuZ2V0UHJlZihJTklUX0tFWSwgMCk7XG4gICAgfVxuXG4gICAgTm9uRGVmYXVsdFByb3ZpZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChleHRlcm4pIHtcbiAgICAgIHV0aWxzLmxvZyhcIk5vbkRlZmF1bHRQcm92aWRlcnNcIik7XG4gICAgICB0cnkge1xuICAgICAgICB1dGlscy5sb2coJ0FuYWx5c2luZyAnICsgZXh0ZXJuLm5hbWUsIExPR19LRVkpO1xuICAgICAgICBpZiAoIXV0aWxzLmdldEVuZ2luZUJ5TmFtZShleHRlcm4ubmFtZSkpIHtcbiAgICAgICAgICBpZiAocHJvdmlkZXJzQWRkZWRTdGF0ZSA8IGV4dGVybi5zdGF0ZSkge1xuICAgICAgICAgICAgbWF4U3RhdGUgPSBleHRlcm4uc3RhdGUgPiBtYXhTdGF0ZSA/IGV4dGVybi5zdGF0ZSA6IG1heFN0YXRlO1xuICAgICAgICAgICAgdXRpbHMubG9nKCdBZGRlZCAnICsgZXh0ZXJuLm5hbWUsIExPR19LRVkpO1xuICAgICAgICAgICAgdXRpbHMuYWRkRW5naW5lV2l0aERldGFpbHMoZXh0ZXJuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdXRpbHMubG9nKGUsICdlcnInICsgTE9HX0tFWSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAobWF4U3RhdGUgPiAwKSB7XG4gICAgICB1dGlscy5zZXRQcmVmKElOSVRfS0VZLCBtYXhTdGF0ZSk7XG4gICAgICBuZXdQcm92aWRlcklzQWRkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdQcm92aWRlcklzQWRkZWQ7XG4gIH0sXG4gIHVwZGF0ZUVuZ2luZUFsaWFzZXM6IGZ1bmN0aW9uKCkge1xuICAgIENsaXF6UmVzdWx0UHJvdmlkZXJzLmdldFNlYXJjaEVuZ2luZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChlbmdpbmUpIHtcbiAgICAgIHZhciBhbGlhcyA9IGVuZ2luZS5hbGlhcztcbiAgICAgIGlmKCFhbGlhcykgeyBhbGlhcyA9IENsaXF6UmVzdWx0UHJvdmlkZXJzLmNyZWF0ZVNob3J0Y3V0KGVuZ2luZS5uYW1lKTsgfVxuICAgICAgaWYoZW5naW5lLnByZWZpeCAmJiAoZW5naW5lLm5hbWUgPT09IGFsaWFzKSkgeyBhbGlhcyA9IGVuZ2luZS5wcmVmaXg7IH1cbiAgICAgIENsaXF6UmVzdWx0UHJvdmlkZXJzLnVwZGF0ZUFsaWFzKGVuZ2luZS5uYW1lLCBhbGlhcyk7XG5cbiAgICB9KTtcbiAgfSxcbiAgdXBkYXRlQWxpYXM6IGZ1bmN0aW9uKG5hbWUsIG5ld0FsaWFzKSB7XG4gICAgdXRpbHMudXBkYXRlQWxpYXMobmFtZSwgbmV3QWxpYXMpO1xuICAgIHV0aWxzLmxvZyhcIkFsaWFzIG9mIGVuZ2luZSAgXCIgKyBuYW1lICsgXCIgd2FzIHVwZGF0ZWQgdG8gXCIgKyBuZXdBbGlhcywgTE9HX0tFWSk7XG4gIH0sXG4gIGdldEN1c3RvbVJlc3VsdHM6IGZ1bmN0aW9uIChxKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBudWxsO1xuICAgIHZhciBjdXN0b21RdWVyeSA9IENsaXF6UmVzdWx0UHJvdmlkZXJzLmN1c3RvbWl6ZVF1ZXJ5KHEpO1xuXG4gICAgaWYoY3VzdG9tUXVlcnkpe1xuICAgICAgcmVzdWx0cyA9IFtcbiAgICAgICAgUmVzdWx0LmdlbmVyaWMoXG4gICAgICAgICAgUmVzdWx0LkNMSVFaQyArICcgc291cmNlcy0nICsgY3VzdG9tUXVlcnkuY29kZSxcbiAgICAgICAgICBjdXN0b21RdWVyeS5xdWVyeVVSSSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHE6IGN1c3RvbVF1ZXJ5LnVwZGF0ZWRRLFxuICAgICAgICAgICAgZW5naW5lOiBjdXN0b21RdWVyeS5lbmdpbmVOYW1lXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdO1xuICAgICAgcSA9IGN1c3RvbVF1ZXJ5LnVwZGF0ZWRRO1xuICAgIH0gZWxzZSBpZihDbGlxekNhbGN1bGF0b3IuaXNDYWxjdWxhdG9yU2VhcmNoKHEpKSB7XG4gICAgICB2YXIgY2FsY1JlcyA9IENsaXF6Q2FsY3VsYXRvci5jYWxjdWxhdGUocSk7XG4gICAgICBpZiAoY2FsY1JlcyAhPSBudWxsKSB7XG4gICAgICAgIHJlc3VsdHMgPSBbY2FsY1Jlc107XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbcSwgcmVzdWx0c107XG4gIH0sXG4gIGdldEVuZ2luZUNvZGU6IGZ1bmN0aW9uIChlbmdpbmVOYW1lKSB7XG4gICAgZm9yKHZhciBjIGluIEVOR0lORV9DT0RFUykge1xuICAgICAgaWYoZW5naW5lTmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoRU5HSU5FX0NPREVTW2NdKSAhPSAtMSl7XG4gICAgICAgIHJldHVybiArYyArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIHVua25vd24gZW5naW5lXG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIHNldEN1cnJlbnRTZWFyY2hFbmdpbmU6IGZ1bmN0aW9uKGVuZ2luZSl7XG4gICAgY29uc3Qgc2VhcmNoRW5naW5lID0gQ2xpcXpSZXN1bHRQcm92aWRlcnMuZ2V0RW5naW5lQnlOYW1lKGVuZ2luZSk7XG4gICAgc2V0U2VhcmNoRW5naW5lKHNlYXJjaEVuZ2luZSk7XG4gIH0sXG4gIC8vIGNhbGxlZCBmb3IgZWFjaCBxdWVyeVxuICBjdXN0b21pemVRdWVyeTogZnVuY3Rpb24ocSl7XG4gICAgaWYoQ1VTVE9NW3EudHJpbSgpXSAmJiBDVVNUT01bcS50cmltKCldLnVybCl7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGVkUSAgOiBxLFxuICAgICAgICBlbmdpbmVOYW1lOiAnQ0xJUVonLFxuICAgICAgICBxdWVyeVVSSSAgOiBDVVNUT01bcS50cmltKCldLnVybCxcbiAgICAgICAgY29kZSAgICAgIDogJyMnXG4gICAgICB9XG4gICAgfVxuICAgIC8vYSBwcmVmaXggaGFzIG1pbiAzIGNoYXJzXG4gICAgaWYocS5sZW5ndGggPCA0KSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgY29tcG9uZW50cyA9IHEuc3BsaXQoJyAnKTtcblxuICAgIGlmKGNvbXBvbmVudHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIHN0YXJ0ID0gY29tcG9uZW50c1swXSxcbiAgICAgICAgZW5kID0gY29tcG9uZW50c1tjb21wb25lbnRzLmxlbmd0aC0xXSxcbiAgICAgICAgZW5naW5lTmFtZSwgdXE7XG5cbiAgICBpZihDbGlxelJlc3VsdFByb3ZpZGVycy5nZXRFbmdpbmVCeUFsaWFzKHN0YXJ0KSkge1xuICAgICAgZW5naW5lTmFtZSA9IENsaXF6UmVzdWx0UHJvdmlkZXJzLmdldEVuZ2luZUJ5QWxpYXMoc3RhcnQpLm5hbWU7XG4gICAgICB1cSA9IHEuc3Vic3RyaW5nKHN0YXJ0Lmxlbmd0aCArIDEpO1xuICAgIH0gZWxzZSBpZihDbGlxelJlc3VsdFByb3ZpZGVycy5nZXRFbmdpbmVCeUFsaWFzKGVuZCkpIHtcbiAgICAgIGVuZ2luZU5hbWUgPSBDbGlxelJlc3VsdFByb3ZpZGVycy5nZXRFbmdpbmVCeUFsaWFzKGVuZCkubmFtZTtcbiAgICAgIHVxID0gcS5zdWJzdHJpbmcoMCwgcS5sZW5ndGggLSBlbmQubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgaWYgKGVuZ2luZU5hbWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZWRROiAgIHVxLFxuICAgICAgICBlbmdpbmVOYW1lOiBlbmdpbmVOYW1lLFxuICAgICAgICBxdWVyeVVSSTogICBDbGlxelJlc3VsdFByb3ZpZGVycy5nZXRTdWJtaXNzaW9uQnlFbmdpbmVOYW1lKGVuZ2luZU5hbWUsIHVxKSxcbiAgICAgICAgY29kZTogICAgICAgQ2xpcXpSZXN1bHRQcm92aWRlcnMuZ2V0RW5naW5lQ29kZShlbmdpbmVOYW1lKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxuICBnZXRFbmdpbmVCeU5hbWU6IGZ1bmN0aW9uKGVuZ2luZSkge1xuICAgIHJldHVybiB1dGlscy5nZXRFbmdpbmVCeU5hbWUoZW5naW5lKTtcbiAgfSxcbiAgZ2V0RW5naW5lQnlBbGlhczogZnVuY3Rpb24oYWxpYXMpIHtcbiAgICByZXR1cm4gdXRpbHMuZ2V0RW5naW5lQnlBbGlhcyhhbGlhcyk7XG4gIH0sXG4gIGdldFN1Ym1pc3Npb25CeUVuZ2luZU5hbWU6IGZ1bmN0aW9uKG5hbWUsIHF1ZXJ5KXtcbiAgICB2YXIgZW5naW5lID0gQ2xpcXpSZXN1bHRQcm92aWRlcnMuZ2V0U2VhcmNoRW5naW5lcygpLmZpbmQoIGVuZ2luZSA9PiBlbmdpbmUubmFtZSA9PT0gbmFtZSk7XG4gICAgaWYgKGVuZ2luZSkge1xuICAgICAgcmV0dXJuIGVuZ2luZS5nZXRTdWJtaXNzaW9uRm9yUXVlcnkocXVlcnkpO1xuICAgIH1cbiAgfSxcbiAgLy8gY2FsbGVkIG9uY2UgYXQgdmlzdWFsIGhhc2h0YWcgY3JlYXRpb25cbiAgLy8gVE9ETzogdXNlIHRoZSB1cGRhdGVkIHNob3J0Y3V0cyBmcm9tIGFib3V0OnByZWZlcmVuY2VzI3NlYXJjaFxuICBnZXRTaG9ydGN1dDogZnVuY3Rpb24obmFtZSl7XG4gICAgZm9yKHZhciBpPTA7IGkgPCBOb25EZWZhdWx0UHJvdmlkZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYoTm9uRGVmYXVsdFByb3ZpZGVyc1tpXS5uYW1lID09PSBuYW1lKVxuICAgICAgICByZXR1cm4gTm9uRGVmYXVsdFByb3ZpZGVyc1tpXS5rZXk7XG5cbiAgICByZXR1cm4gQ2xpcXpSZXN1bHRQcm92aWRlcnMuY3JlYXRlU2hvcnRjdXQobmFtZSk7XG4gIH0sXG4gIC8vIGNyZWF0ZSBhIHVuaXF1ZSBzaG9ydGN1dCAtPiBmaXJzdCAyIGxvd2VyY2FzZWQgbGV0dGVyc1xuICBjcmVhdGVTaG9ydGN1dDogZnVuY3Rpb24obmFtZSl7XG4gICAgcmV0dXJuIEtFWSArIG5hbWUuc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCk7XG4gIH0sXG4gIGdldFNlYXJjaEVuZ2luZXM6IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHV0aWxzLmdldFNlYXJjaEVuZ2luZXMoKS5tYXAoZnVuY3Rpb24oZSl7XG4gICAgICBlLnByZWZpeCA9IENsaXF6UmVzdWx0UHJvdmlkZXJzLmdldFNob3J0Y3V0KGUubmFtZSk7XG4gICAgICBlLmNvZGUgICA9IENsaXF6UmVzdWx0UHJvdmlkZXJzLmdldEVuZ2luZUNvZGUoZS5uYW1lKTtcblxuICAgICAgcmV0dXJuIGU7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gVE9ETzogY3JlYXRlIGxhbmd1YWdlL2xvY2F0aW9uIGF3YXJlIGN1c3RvbWl6YXRpb25cbnZhciBOb25EZWZhdWx0UHJvdmlkZXJzID0gW1xuICB7XG4gICAga2V5OiBcIiNnaVwiLFxuICAgIHVybDogXCJodHRwczovL3d3dy5nb29nbGUuZGUvc2VhcmNoP3RibT1pc2NoJnE9e3NlYXJjaFRlcm1zfSZobD1kZVwiLFxuICAgIG5hbWU6IFwiR29vZ2xlIEltYWdlc1wiLFxuICAgIGljb25VUkw6IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRWdBTkFPTUtBQUFBQUJVVkZSb2FHaXNyS3prNU9VeE1UR1JrWkxTMHRNL1B6OS9mMy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3lINUJBRUtBQThBTEFBQUFBQVNBQTBBQUFSVDhNbDVBcmczbk1rbHVRSWhYTVJVWU5pd1NjZUFuWUF3QWtPQ0dJU0JKQzRtU0tNRHdwSkJIRkMvaCt4aFFBRU1TdVNvOUVGUm5TQ21FenJEQ29tQWdCR2JzdUYwUEhKcTlXaXBuWUpCOS9VbUZ5SUFPdz09XCIsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBzdGF0ZToxXG4gIH0sXG4gIHtcbiAgICBrZXk6IFwiI2dtXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vbWFwcy5nb29nbGUuZGUvbWFwcz9xPXtzZWFyY2hUZXJtc31cIixcbiAgICBuYW1lOiBcIkdvb2dsZSBNYXBzXCIsXG4gICAgaWNvblVSTDogXCJkYXRhOmltYWdlL3ZuZC5taWNyb3NvZnQuaWNvbjtiYXNlNjQsQUFBQkFBRUFFQkFBQUFFQUNBQm9CUUFBRmdBQUFDZ0FBQUFRQUFBQUlBQUFBQUVBQ0FBQUFBQUFBQUVBQUJJTEFBQVNDd0FBQUFFQUFBQUJBQUErVmVNQVpNYkZBSDdrL3dCR3kvNEEvOGhwQUlUay93QXNQTmtBRThQOEFGWGMvd0JGMmY4QS84QlJBUCs1T3dBaDB2OEFxZXYvQUV4bTZRQTIxdjhBL2Nwd0FBWEovd0FhMGY4QS84ZG1BUC9HWWdDYTZmOEEvOE5aQUZ6ZC93Q1Q1LzhBLzhWZUFQKytTZ0FxMVA4QUJjMy9BRFJJM2dBRHkvOEFLYzcrQUZSeDdnQ2t0ZmdBL3NCUEFQL0NWZ0J4NGY4QUxkUC9BQUhNL3dCQVdlVUEvN3RCQURwUDRRQ0o1ZjhBUHRqL0FDZzMxZ0NpNnY4QS83MUdBTC92L3dCRnlkb0FKVGpVQUI1czN3Qzh5NkFBTnNEOUFDdkcvZ0JOYXV3QW5iV1JBS1BKOVFDbXZwUUFMZFQvQUJvanpnQlJaT0FBdWU3L0FDQkoxd0F5UmR3QUZzWDBBRDJ5OFFBWHovOEFFaG5LQUpYby93Qm9oZUVBMThCM0FKM0pxUUFLeC80QUlTM1NBTi9PamdBSnlQNEErTUZmQVBmNC9nRDR3V0FBWG56eEFCV243Z0FkdnYwQWF0Ly9BQ1kwMVFBM1N0NEFEY3IyQUdySStnQTV4dW9BUE12MEFEck0vZ0FueS9VQU05RCtBREhWL3dCV2d1NEFTOXIvQUkrbjdnQ2xydkFBanNldEFFblcvZ0EweE53QU9kZi9BQ2ZUL3dDTzV2OEFKMUxYQUorbTdRQmVkKzRBUjJMcEFCalAvd0FOeVBvQWNiVDBBQXpPL3dBTE44MEFXMjduQUV2RzBRQVYwUDhBNHI5eEFEalMvZ0EwWE5zQVBkZi9BQzQvMmdDZTZmOEFSVi9vQVArNE5nQjF3YllBUU5IK0FOTHovd0FBelA4QS8vLy9BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFmMkowSHg5WU14QVFCQk1aRmdvaWZ4SWxheEVSTUFRVEZCa2pDaG9vQ3d0NERTUmxKa2NRZTN0R0dSWUtHaWg2SkFVWWZSY0JTaDRSUURsT0ZpSXVDeElyR3c5OVpHTlZIaEZJZXhrakdpZ2JYZzhNQlNwdkhINGVFUUVVRmdvdUt4Y0pYQUk0UTJ3Y2ZoNWhFeGtLR2doU0NBa3FYenRRYmlZbWNYTk1OemNrQWlRWFJEeEpNbVVTY2tKYVZ6VTBaaGdxQW0xM0xERkJEem9iSlZ0WkF4Z1ZLbFluSFhjc1BnY2NmaDVMQjFFTkRSVmRKeWtkZDFORmZYMTlmWDE5THowdElHb25LVDhHWjNZUGZIeDhBMzh2TFU4MmVRQlVkM1Y4Zkh4OGZIOS9mMzhoSUE0bktWUm9mMzkvZjM5L2YzOS9UU0ZwRG5CZ2YzOS9mMzkvZjRBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUNBQVFBQTREOEFBT0IvQUFBPVwiLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgc3RhdGU6IDFcbiAgfSxcbiAge1xuICAgIGtleTogXCIjeXRcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly93d3cueW91dHViZS5kZS9yZXN1bHRzP3NlYXJjaF9xdWVyeT17c2VhcmNoVGVybXN9XCIsXG4gICAgbmFtZTogXCJZb3VUdWJlXCIsXG4gICAgaWNvblVSTDogJ2RhdGE6aW1hZ2UveC1pY29uO2Jhc2U2NCxBQUFCQUFFQUVCQUFBQUVBSUFCb0JBQUFGZ0FBQUNnQUFBQVFBQUFBSUFBQUFBRUFJQUFBQUFBQVFBUUFBQk1MQUFBVEN3QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQWdOa1FrSURaR2lDQTJSekFnTmtjd0lEWkgvQ0EyUi93Z05rZjhJRFpIL0NBMlIvd2dOa2Y4SURaSC9DQTJSMkFnTmtjd0lEWkhNQ0EyUmhBZ05rUVlJRHBXSENBNlYvd2dPbGY4SURwWC9DQTZWL3dnT2xmOElEcFgvQ0E2Vi93Z09sZjhJRHBYL0NBNlYvd2dPbGY4SURwWC9DQTZWL3dnT2xmOElEcFdIQ1E2WnpBa09tZjhKRHBuL0NRNlovd2tPbWY4SkRwYi9CUWhjL3dnTWdmOEpEcG4vQ1E2Wi93a09tZjhKRHBuL0NRNlovd2tPbWY4SkRwbi9DUTZaekFrT251b0pEcDcvQ1E2ZS93a09udjhKRHA3L0V4ZWQvOGpJeS85UlU0ai9Cd3AwL3drT20vOEpEcDcvQ1E2ZS93a09udjhKRHA3L0NRNmUvd2tPbnVvSkQ2VDhDUStrL3drUHBQOEpENlQvQ1Eray94VWJvLy9WMWRYLzFkWFYvNHlOclA4UUZHLy9DQTZZL3drUHBQOEpENlQvQ1Eray93a1BwUDhKRDZUOENRK3Evd2tQcXY4SkQ2ci9DUStxL3drUHF2OFdHNm4vM2QzZC85M2QzZi9kM2QzL3Y3L00veTB3anY4SkQ2ci9DUStxL3drUHF2OEpENnIvQ1ErcS93b1FyLzhLRUsvL0NoQ3Yvd29Rci84S0VLLy9GeDJ2LytmbjUvL241K2YvNStmbi8ram82UCtZbXRQL0NoQ3Yvd29Rci84S0VLLy9DaEN2L3dvUXIvOEtFTFg4Q2hDMS93b1F0ZjhLRUxYL0NoQzEveGdkdGYveDhmSC84Zkh4Ly9MeTh2K2JuZHYvRWhpMy93b1F0ZjhLRUxYL0NoQzEvd29RdGY4S0VMWDhDaEc3NmdvUnUvOEtFYnYvQ2hHNy93b1J1LzhZSDc3LytmbjUvKy92OS85Zlk5SC9DaEc3L3dvUnUvOEtFYnYvQ2hHNy93b1J1LzhLRWJ2L0NoRzc2Z29Sd013S0VjRC9DaEhBL3dvUndQOEtFY0QvRUJmQi82T2w1Lzh0TThuL0NoSEEvd29Sd1A4S0VjRC9DaEhBL3dvUndQOEtFY0QvQ2hIQS93b1J3TXdMRWNTSEN4SEUvd3NSeFA4TEVjVC9DeEhFL3dzUnhQOExFY1QvQ3hIRS93c1J4UDhMRWNUL0N4SEUvd3NSeFA4TEVjVC9DeEhFL3dzUnhQOExFY1NIQ3hMSUNRc1N5S1VMRXNqTUN4TEkrUXNTeVA4TEVzai9DeExJL3dzU3lQOExFc2ovQ3hMSS93c1N5UDhMRXNqL0N4TEkwZ3NTeU13TEVzaWlBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQS8vOEFBUC8vQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBRC8vd0FBLy84QUFBPT0nLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgc3RhdGU6IDJcbiAgfSxcbiAge1xuICAgIGtleTogXCIjZWNcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly93d3cuZWNvc2lhLm9yZy9zZWFyY2g/cT17c2VhcmNoVGVybXN9JnJlZj1jbGlxelwiLFxuICAgIG5hbWU6IFwiRWNvc2lhXCIsXG4gICAgaWNvblVSTDogJ2RhdGE6aW1hZ2UveC1pY29uO2Jhc2U2NCxBQUFCQUFFQUVCQUFBQUVBSUFCb0JBQUFGZ0FBQUNnQUFBQVFBQUFBSUFBQUFBRUFJQUFBQUFBQUFBQUFBQ011QUFBakxnQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUM4cXpRQnVhdzNVcm1zTjZ1NXJEZnJ1YXczN2Jtc04rMjVyRGZTdWF3M2ZMbXNOeUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQzJyVG9rckxGR3VycXNOdis1ckRmL3VhdzMvN21zTi8rNXJEZi91YXczLzd1ck5QL0FxUzdzdXF3MmFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDL3FqQXBrYnBuNG12SmxmL0VxQ3IvdWF3My83bXNOLys1ckRmL3VhdzMvN3VyTlArcnNVai9pYjV4Lzdxc052KzlxektCQUFBQUFBQUFBQUM1ckRjTHdLa3Z6b205Y2Y4MTNOYi9scmxoLzhLb0xQKzVyRGYvdWF3My83bXNOLy9CcVMzL2VNU0YveVhqNnYrQndIdi9sYmxpLzdhdE8xSUFBQUFBdWF3M2JzQ3FMLytSdW1iL0srRGkvejNaelArZHRsbi92cW94Lzdtc04vKzVyRGYvd2FrdS8yM0lrdjhzNE9IL09OdlMvNW00WHYrN3F6WFp1YXczQ2Jtc045REJxUzcvaEw5My96RGUzZjh2MzkzL1JkYkQvN091UHYrN3F6WC91cXcyLzhXb0tmOTl3bi8vTHQvZS95L2UzZjk5d24vL3Y2b3cvN21zTjArN3F6VDdzNjQrLzBiV3dmOHkzdG4vTDk3ZC8wM1R1UCt1c0VUL3ZLb3ovN2lzT1ArdnIwUC9YTTZuL3pEZTNQODEzTmIvTDk3ZC81TzZaZi9FcHltT3U2czAvN091UHY4KzJjdi9KK0huLzFIU3RQKzByanovdmFzeS83NnFNUDl6eFlyL050elYvelRkMS84MjNOWC9OdHpWL3pMZDJmOUkxYi8vbWJoZXFzR3BMZitndFZYL2JzZVIvM2ZFaHYrd3IwTC92YW95Lzdtc04vKy9xakQvV2MrcS95dmc0LzgxM05iL01kN2IvemZjMVA4MzNOVC9NdDdhL3piYzFhcUh2blQ2Yk1pVC81MjJXUCt3cjBML3Zxb3gvN21zTi8rNXJEZi92YW95LzZDMVZQOC8yY3IvTjl6VC8ydkpsZjloektEL050elUvemJjMWY4MTNOYU9OZHpXejNIR2p2OWt5NTMvcHJOTi84U29Ldis4cXpUL3VhdzMvN21zT1AvRXFDci9lY09FLzBIWXgvOVYwSy8vTjl2VC96WGMxdjgyM05YL050elZUalhjMTIwdzN0ei9MdC9lLzB6VXUvK0Z2M1gvcnJCRi83bXNOLys3cXpYL3Zhb3kvNnF4U2Y5RzFzSC9MOS9kL3pQZDJQOHgzdHYvTDkvZTJDL2YzUWsyM05VS050elZ6RGJjMXY4MjNOWC9PZHZRLzBuVnZ2K3hyMEgvdGEwNy83K3FMLys3cXpUL3I2OUQvMkxNb1A4MjNOWC9WTkd4LzJUTG5WRUFBQUFBQUFBQUFEYmMxU2MwM2RmZ1FObkovMmJLbS84NjJ0RC9wTFJQLzF2T3FmOVMwclAvaWIxeC84Q3BMLys0ckRqL3FMSk0vN3FzTm40QUFBQUFBQUFBQUFBQUFBQUFBQUFBTTkzWUkwdlV2THR1eDVIL1ZkR3cvM0RIai85Wno2ci9YYzJtLzNyRGd2KzVyRGYvdTZzMTY3MnJNMmdBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBeWFZalVidXJOYXl0c1ViWnVLMDU2Y0dwTHVTL3FqREd1YXczZ0xtc054NEFBQUFBQUFBQUFBQUFBQUFBQUFBQStEOEFBT0FQQUFEQUF3QUFnQU1BQUlBQkFBQUFBUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFDQUFRQUFnQU1BQU1BSEFBRGdEd0FBK0I4QUFBPT0nLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgc3RhdGU6IDRcbiAgfVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgQ2xpcXpSZXN1bHRQcm92aWRlcnM7XG4iXX0=